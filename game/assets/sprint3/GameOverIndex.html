<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Game Over Screen</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.6.0/p5.min.js"></script>
  <script src="GameOverMenu.js"></script>
  <script src="Menu.js"></script> <!-- ✅ Load your main menu class -->
  <script>
    let menu;
    let gameOverMenu;
    let menuID = 2;       // Start on Game Over screen
    let inMenu = true;
    let currentLevel = 0;
    let unlockedLevels = new Set([0, 1, 2]);

    function loadLevel(level) {
      console.log("Loading level:", level);
      // Add your level setup logic here
    }

    function setup() {
      createCanvas(800, 600);
      menu = new Menu();             // ✅ Instantiate main menu
      gameOverMenu = new GameOverMenu(); // ✅ Instantiate Game Over menu
    }

    function draw() {
      background(50);
      cursor(ARROW);

      if (inMenu) {
        if (menuID === 2) {
          gameOverMenu.menu(); // ✅ Show Game Over screen
        } else {
          menu.menu();         // ✅ Show main menu or level select
        }
      }
    }

    class Button {
      constructor(x, y, w, h, onClick, onDraw) {
        this.x = x;
        this.y = y;
        this.w = w;
        this.h = h;
        this.onClick = onClick;
        this.onDraw = onDraw;
      }

      cursorDetect() {
        return mouseX > this.x && mouseX < this.x + this.w &&
               mouseY > this.y && mouseY < this.y + this.h;
      }

      clicked() {
        this.onClick.call(this);
      }

      show() {
        this.onDraw.call(this);
      }
    }
  </script>
</head>
<body></body>
</html>